@using System.Text.Json
@inject ICategoryService CategoryService
<MudNavMenu>
    <MudNavLink Icon="@Icons.Outlined.Home" Href="/" Match="NavLinkMatch.All">Home</MudNavLink>


    @foreach (var category in CategoryService.categories)
    {

        var json = JsonSerializer.Serialize(Icons.Filled);
        var dict = JsonSerializer.Deserialize<Dictionary<string, string>>(json);
        var icon = dict[category.Icon];
        <MudNavLink Icon="@icon" Href=@category.Url Match="NavLinkMatch.All">@category.Name</MudNavLink>
    }
</MudNavMenu>

@code {
    protected override async Task OnInitializedAsync()
    {
        await CategoryService.GetCategories();
    }
}